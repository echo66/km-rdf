<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><title>swidata</title>




<link rel="stylesheet" type="text/css" href="index_files/pldoc.css">
<script src="index_files/pldoc.js" type="text/javascript">
</script></head><body>
<div class="navhdr"><span style="float: left;">
<div>

<form action="/directory">
<input value="Go" type="submit">
<select name="dir">
<option onclick="document.location='/doc/home/david/km-rdf/swidata/index.html';" selected="selected">/home/david/km-rdf/swidata</option>
<option onclick="document.location='/doc/swi/index.html';">/usr/local/lib/pl-5.6.50</option>
<option onclick="document.location='/doc/swi/boot/index.html';">/usr/local/lib/pl-5.6.50/boot</option>
<option onclick="document.location='/doc/swi/library/index.html';">/usr/local/lib/pl-5.6.50/library</option>
<option onclick="document.location='/doc/swi/library/http/index.html';">/usr/local/lib/pl-5.6.50/library/http</option>
<option onclick="document.location='/doc/swi/library/pldoc/index.html';">/usr/local/lib/pl-5.6.50/library/pldoc</option>
<option onclick="document.location='/doc/swi/xpce/prolog/lib/index.html';">/usr/local/lib/pl-5.6.50/xpce/prolog/lib</option>
</select>
</form>

<a class="prolog_version" href="http://www.swi-prolog.org/"> SWI-Prolog 5.6.50</a></div>
</span><span style="float: right;">

<form action="/search">
<div><input name="for" size="36"><input value="Search" type="submit"></div>
<div class="search-options"><span class="search-in"><input name="in" value="all" checked="checked" type="radio">All<input name="in" value="app" type="radio">Application<input name="in" value="man" type="radio">Manual</span><span class="search-match"><input name="match" value="name" type="radio">Name<input name="match" value="summary" checked="checked" type="radio">Summary</span><span class="search-help"><a href="http://localhost:44309/package/pldoc.html#sec:browser">Help</a></span></div>
</form>

</span><br clear="all">
</div>

<p>
Data module for SWI-Prolog

</p><p>
This module defines predicates to manage large data involved in
multimedia computations and other data expensive processes. We require
these library as prolog terms to deal with data (lists and Pl_term_t
blobs) are not efficient enough and they have serious size
restrictions.
</p><p>Swilib defines an identification mechanism for data objects
which are stored in memory along with the data vector. The data itself
can be sent to disk relieving memory. Under its identifier, each block
of data can be called to be processed as any SWI-DSP module is
implemented to read them. We define aslo list-BLOBIDs conversion
predicates to reuse prolog literals.
</p><p>The system has a PREFERRED FORMAT FOR DATA IDENTIFIERS:
'__data_x'. These atoms will be automatically assigned by the system
incrementally. The user can also reserve ids but we strongly recommend
to use this sort of atoms to identify your data blocks. There are
predicates to check the status of the database so the user can easily
query the next identifier to be assigned and other useful information.
</p><p>Finally, the most interesting set of predicates perform basic
data operations over the identifiers like framing, concatenation or
comparison. These predicates are used by other modules providing a
high-level and declarative view of data objects.
</p><p>
David Pastor Escuredo for the Centre For Digital Music, Queen Mary University of London
2007-2008.

</p><table class="summary">
<tbody><tr><th colspan="3" class="file"><span style="float: left;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl">data.pl</a></span><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true"><img alt="Show source" style="border: 0pt none ; padding-top: 4px;" src="index_files/source.gif" height="16"></a><a onclick='HTTPrequest("/edit?file=%2fhome%2fdavid%2fkm-rdf%2fswidata%2fdata.pl")' onmouseover="window.status='Edit file'; return true;"><img alt="edit" style="border: 0pt none ;" src="index_files/edit.gif" height="16"></a></span></th></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3ablob_frame%2f4">blob_frame/4</a></td><td class="summary">Returns a frame of the original blob.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#blob_frame%2f4"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=blob_frame&arity=4&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3ablob_in%2f2">blob_in/2</a></td><td class="summary">Loads the data of the file into a blob which can be passed for unification.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#blob_in%2f2"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=blob_in&arity=2&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3ablob_list%2f2">blob_list/2</a></td><td class="summary">Represents the blob as a prolog list.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#blob_list%2f2"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=blob_list&arity=2&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3ablob_out%2f2">blob_out/2</a></td><td class="summary">Dumps the binary data held by the blob into a file given the path.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#blob_out%2f2"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=blob_out&arity=2&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3ablob_size%2f2">blob_size/2</a></td><td class="summary">Returns the size of the blob.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#blob_size%2f2"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=blob_size&arity=2&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3ablobs%2f1">blobs/1</a></td><td class="summary">Number of blobid in the database.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#blobs%2f1"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=blobs&arity=1&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3ablobs_mean%2f3">blobs_mean/3</a></td><td class="summary">Returns the mean of two blobs.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#blobs_mean%2f3"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=blobs_mean&arity=3&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3abusy_id%2f1">busy_id/1</a></td><td class="summary">checks if the BLOBID is actually pointing to any block of data.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#busy_id%2f1"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=busy_id&arity=1&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3aclean_blob%2f1">clean_blob/1</a></td><td class="summary">deletes the data pointed by the ID from memory.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#clean_blob%2f1"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=clean_blob&arity=1&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3aconcat_blobs%2f3">concat_blobs/3</a></td><td class="summary">Concats two blobs and returns the new one.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#concat_blobs%2f3"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=concat_blobs&arity=3&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3acurrent_id%2f1">current_id/1</a></td><td class="summary">Last id assigned by the system.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#current_id%2f1"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=current_id&arity=1&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3adata_size%2f2">data_size/2</a></td><td class="summary">Returns the size of the data object (list of BLOBID).</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#data_size%2f2"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=data_size&arity=2&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3aequal_blobs%2f2">equal_blobs/2</a></td><td class="summary">Tells if the blobs are equal.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#equal_blobs%2f2"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=equal_blobs&arity=2&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3aids_status%2f3">ids_status/3</a></td><td class="summary">Shows the BLOBIDs status.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#ids_status%2f3"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=ids_status&arity=3&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3ais_blob%2f1">is_blob/1</a></td><td class="summary">checks if the passed term is a BLOBID (an atom stored in the ids database).</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#is_blob%2f1"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=is_blob&arity=1&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3alist_blob%2f2">list_blob/2</a></td><td class="summary">Registers a List as a blob.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#list_blob%2f2"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=list_blob&arity=2&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3anext_id%2f1">next_id/1</a></td><td class="summary">Next id to assign automatically by the system.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#next_id%2f1"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=next_id&arity=1&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
<tr class="public"><td><a href="http://localhost:44309/doc_for?object=data%3areserve_id%2f1">reserve_id/1</a></td><td class="summary">reserves the passed id in the database so it can not be assigned to any outcoming blob unless we pass it for unification.</td><td align="right" width="30"><span style="float: right;"><a href="http://localhost:44309/doc/home/david/km-rdf/swidata/data.pl?source=true#reserve_id%2f1"><img style="border: 0pt none ;" src="index_files/source.gif" height="12"></a><a onclick='HTTPrequest("/edit?name=reserve_id&arity=1&module=data")'><img style="border: 0pt none ;" src="index_files/edit.gif" height="12"></a></span></td></tr>
</tbody></table>

<p>
PROBLEMS:

</p><p>1.Modules must read BLOBIDs all the time. It means a huge
consume of ids. It may be interesting to consider prolog list as input
either way.
</p><p>
<a class="file" href="http://localhost:44309/doc/home/david/km-rdf/swidata/TODO">TODO</a>:
1.Improve the id storage mechanism of swilib
2.Add more computations
3.Treat lists and BLOBIDs under the same predicates?
</p></body></html>